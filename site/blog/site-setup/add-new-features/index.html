


    






    






    



    




<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Some must-have features in a blog are Tags and List of recent posts. Tags help to list related posts, and Post List shows recently updated activities. This post decribes a method to add these features based on parsed data.">
      
      
        <meta name="author" content="Vivek SRIVASTAVA (https://www.linkedin.com/in/vivekfe/)">
      
      
        <link rel="canonical" href="https://vivekfe.github.io/blog/site-setup/add-new-features/">
      
      
        <link rel="prev" href="../handle-missing-page/">
      
      
        <link rel="next" href="../print-to-pdf/">
      
      <link rel="icon" href="../../../favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.12">
    
    
    <title>Add Tags, Recent Post and new Features to my Blog site - IO Stories</title>

    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Serif";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/view-bigimg.css">
    
      <link rel="stylesheet" href="../../../assets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-144Q0VJMBT"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-144Q0VJMBT",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-144Q0VJMBT",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
    
    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Add Tags, Recent Post and new Features to my Blog site - IO Stories" />
    <meta property="og:description" content="Some must-have features in a blog are Tags and List of recent posts. Tags help to list related posts, and Post List shows recently updated activities. This post decribes a method to add these features based on parsed data. - Interesting Stuff on Programming, Financial Engineering and Mathematics." />
    <meta property="og:url" content="https://vivekfe.github.io/blog/site-setup/add-new-features/" />
    <meta property="og:image" content="https://vivekfe.github.io/blog/site-setup/add-new-features/tag_cloud.jpg" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Add Tags, Recent Post and new Features to my Blog site - IO Stories" />
    <meta name="twitter:description" content="Some must-have features in a blog are Tags and List of recent posts. Tags help to list related posts, and Post List shows recently updated activities. This post decribes a method to add these features based on parsed data. - Interesting Stuff on Programming, Financial Engineering and Mathematics." />
    <meta name="twitter:image" content="https://vivekfe.github.io/blog/site-setup/add-new-features/tag_cloud.jpg" />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tags-page" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="">
    <a href="../../.." title="IO Stories" class="md-header__button md-logo" aria-label="IO Stories" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IO Stories
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Add Tags, Recent Post and new Features to my Blog site
            
          </span>
        </div>
        
            <style>
                .md-header__nav {
                    float: right;
                }
                .md-header__nav__inner:not([hidden]) {
                    display: flex;
                }
            </style>
            <div class="md-header__nav">
                
                <nav class="md-header__nav__inner">
                    
                        
                        <a href="../handle-missing-page/" aria-label="Previous: Hanlde Page Not Found (404) error" rel="prev">
                            <div class="md-footer__button md-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
                            </div>
                        </a>
                    
                    
                        
                        <a href="../print-to-pdf/" aria-label="Next: Print Pages to PDF files" rel="next">
                            <div class="md-footer__button md-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
                            </div>
                        </a>
                    
                </nav>
            </div>
        
    </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Blog
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../tags/" class="md-tabs__link">
        Tags
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
    
    

    <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
        <div class="md-sidebar__scrollwrap">
            <div class="md-sidebar__inner">
                

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="IO Stories" class="md-nav__button md-logo" aria-label="IO Stories" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    IO Stories
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Blog</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Blog" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Recent posts
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Site setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Site setup" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Site setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_1" type="checkbox" id="__nav_2_2_1" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../create-site-project/">Create site project</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Create site project" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          Create site project
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../create-site-project/" class="md-nav__link">
        A Guide to Create a Personal Site
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2" type="checkbox" id="__nav_2_2_2" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../mkdocs-plugins/">Mkdocs plugins</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Mkdocs plugins" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_2">
          <span class="md-nav__icon md-icon"></span>
          Mkdocs plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mkdocs-plugins/" class="md-nav__link">
        Additional Features using MkDocs Plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3" type="checkbox" id="__nav_2_2_3" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../markdown-syntax/">Markdown syntax</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Markdown syntax" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          Markdown syntax
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../markdown-syntax/" class="md-nav__link">
        Syntaxes for Writing Markdown Documents
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_4" type="checkbox" id="__nav_2_2_4" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../handle-missing-page/">Handle missing page</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Handle missing page" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_4">
          <span class="md-nav__icon md-icon"></span>
          Handle missing page
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../handle-missing-page/" class="md-nav__link">
        Hanlde Page Not Found (404) error
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_5" type="checkbox" id="__nav_2_2_5" checked>
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">Add new features</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Add new features" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_5">
          <span class="md-nav__icon md-icon"></span>
          Add new features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc" checked
        onchange='(function(){
          var _pid = "__nav_2_2_5_1".slice(0, -2);
          var _pel = document.getElementById(_pid);
          _pel.checked  = false;
        })()'
      >
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Add Tags, Recent Post and new Features to my Blog site
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Add Tags, Recent Post and new Features to my Blog site
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tags-page" class="md-nav__link">
    Tags page
  </a>
  
    <nav class="md-nav" aria-label="Tags page">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-cloud" class="md-nav__link">
    Tag cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#page-list" class="md-nav__link">
    Page list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-template" class="md-nav__link">
    Main template
  </a>
  
    <nav class="md-nav" aria-label="Main template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#navigation" class="md-nav__link">
    Navigation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#page-content" class="md-nav__link">
    Page content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-recent-blog-posts" class="md-nav__link">
    The recent blog posts
  </a>
  
    <nav class="md-nav" aria-label="The recent blog posts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#groups-of-pages" class="md-nav__link">
    Groups of pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-entry" class="md-nav__link">
    Post-entry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pagination-bar" class="md-nav__link">
    Pagination bar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-in-images" class="md-nav__link">
    Zoom-in Images
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-external-links" class="md-nav__link">
    Open external links
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_6" type="checkbox" id="__nav_2_2_6" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../print-to-pdf/">Print to PDF</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Print to PDF" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_6">
          <span class="md-nav__icon md-icon"></span>
          Print to PDF
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../print-to-pdf/" class="md-nav__link">
        Print Pages to PDF files
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_7" type="checkbox" id="__nav_2_2_7" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../protected-page/">Protected page</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Protected page" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_7">
          <span class="md-nav__icon md-icon"></span>
          Protected page
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../protected-page/" class="md-nav__link">
        [Protected] A Password-proteted private page!
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../tags/">Tags</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Tags" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tags
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tags/" class="md-nav__link">
        Tags
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>

                
                
                    <br>
                    <br>
                    <div class="tag-cloud-nav">
                        





  

  

  

  
    
    
      
        
      
    
      
        
        
        
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
            
            
            
          
        
          
          
        
        
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
            
            
            
          
        
          
          
        
        
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  


<style>
    .tag-cloud {
        margin-top:0;
        margin-bottom: 0.5em;
    }
    .tag-cloud-content {
        padding: 0 0.6rem;
        
    }
</style>

<p class="md-nav tag-cloud">
  <label class="md-nav__title">Tag cloud</label>
</p>
<div class="tag-cloud-content">
    
        
            
            
            
            <a class="tag" href="https://vivekfe.github.io/tags/#jinja">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkGoldenrod;
                ">jinja&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://vivekfe.github.io/tags/#javascript">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.6rem;
                    
                    color:DarkGreen;
                ">javascript&nbsp;
                </span>
                <!--<sup class="tag-count">2</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://vivekfe.github.io/tags/#mkdocs">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.6rem;
                    
                    color:DarkOliveGreen;
                ">mkdocs&nbsp;
                </span>
                <!--<sup class="tag-count">2</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://vivekfe.github.io/tags/#markdown">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkCyan;
                ">markdown&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://vivekfe.github.io/tags/#python">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkTurquoise;
                ">python&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://vivekfe.github.io/tags/#encryption">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkBlue;
                ">encryption&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
    
</div>
                    </div>
                
            </div>
        </div>
    </div>



    

    <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
        <div class="md-sidebar__scrollwrap">
            <div class="md-sidebar__inner">
                
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tags-page" class="md-nav__link">
    Tags page
  </a>
  
    <nav class="md-nav" aria-label="Tags page">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-cloud" class="md-nav__link">
    Tag cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#page-list" class="md-nav__link">
    Page list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-template" class="md-nav__link">
    Main template
  </a>
  
    <nav class="md-nav" aria-label="Main template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#navigation" class="md-nav__link">
    Navigation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#page-content" class="md-nav__link">
    Page content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-recent-blog-posts" class="md-nav__link">
    The recent blog posts
  </a>
  
    <nav class="md-nav" aria-label="The recent blog posts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#groups-of-pages" class="md-nav__link">
    Groups of pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-entry" class="md-nav__link">
    Post-entry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pagination-bar" class="md-nav__link">
    Pagination bar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-in-images" class="md-nav__link">
    Zoom-in Images
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-external-links" class="md-nav__link">
    Open external links
  </a>
  
</li>
      
    </ul>
  
</nav>
                

                
                
            </div>
        </div>
    </div>


          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
    



<style>
    .md-typeset .cover {
        margin-bottom: 1em;
    }
    .md-typeset .page-category {
        color: gray;
        font-size: large;
    }
    .md-typeset .page-title {
        margin-left: -0.0625em;
    }
    .md-typeset .page-extra {
        color: gray;
        font-size: small;
    }
    .md-typeset .page-tags {
        margin: 0;
    }
    .md-typeset .page-date {
        margin: 0;
        text-align: end;
    }
    @media print {
        .md-typeset .cover {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .md-typeset .cover + * {
            margin-top: 0;
        }
    }
</style>

<div class="cover">
    
    

    
    <h1 class="page-title"> Add Tags, Recent Post and new Features to my Blog site </h1>

    
    
        <p class="page-description">
            Some must-have features in a blog are Tags and List of recent posts. Tags help to list related posts, and Post List shows recently updated activities. This post decribes a method to add these features based on parsed data.
        </p>
    

    
        <div class="page-extra row">
            <div class="col">
            
                <p class="page-tags">
                    
                        <a class="tag" href="https://vivekfe.github.io/tags/#jinja">
                            <span class="tag-name">
                                #jinja &nbsp;
                            </span>
                        </a>
                    
                        <a class="tag" href="https://vivekfe.github.io/tags/#javascript">
                            <span class="tag-name">
                                #javascript &nbsp;
                            </span>
                        </a>
                    
                </p>
            
            
            </div>
            <div class="col">
                <p class="page-date">
                    <span>
                    
                        Last update:
                        2023-02-14
                    
                    </span>
                </p>
            </div>
        </div>
    
</div>

<hr class="screen-only">


<style>
    .md-typeset .toc {
        display: none;
    }
    .md-typeset .toc label {
        display: none;
    }
    .md-typeset .toc .md-nav {
        font-size: unset;
        line-height: 1.6;
    }
    .md-typeset .toc .md-nav--secondary {
        margin-left: -2em;
    }
    .md-typeset .toc .md-nav__list {
        margin: 0;
    }
    .md-typeset .toc ul {
        list-style: none;
    }
    @media print {
        .md-typeset .toc {
            display: block;
            page-break-after: always;
        }
        .md-typeset .toc .md-nav__link {
            color: var(--md-typeset-a-color);
        }
        .md-typeset .toc .md-nav__link.md-nav__link--active {
            font-weight: unset;
        }
        .md-typeset .toc + * {
            margin-top: 0;
        }
    }
</style>

<div class="toc">
    <h2>Table of Content</h2>
    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tags-page" class="md-nav__link">
    Tags page
  </a>
  
    <nav class="md-nav" aria-label="Tags page">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-cloud" class="md-nav__link">
    Tag cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#page-list" class="md-nav__link">
    Page list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-template" class="md-nav__link">
    Main template
  </a>
  
    <nav class="md-nav" aria-label="Main template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#navigation" class="md-nav__link">
    Navigation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#page-content" class="md-nav__link">
    Page content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-recent-blog-posts" class="md-nav__link">
    The recent blog posts
  </a>
  
    <nav class="md-nav" aria-label="The recent blog posts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#groups-of-pages" class="md-nav__link">
    Groups of pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-entry" class="md-nav__link">
    Post-entry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pagination-bar" class="md-nav__link">
    Pagination bar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-in-images" class="md-nav__link">
    Zoom-in Images
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-external-links" class="md-nav__link">
    Open external links
  </a>
  
</li>
      
    </ul>
  
</nav>
</div>



    
    <h2 id="tags-page">Tags page<a class="headerlink" href="#tags-page" title="Permanent link">#</a></h2>
<p>The tag page is the place to list all tags, and list all pages that have a common tag. A new page will be created at <code>docs\tags\index.md</code>. There is a method to use <a href="../mkdocs-plugins/#macros">MkDocs Macros</a> in Markdown template, but it is quite complicated.</p>
<div class="admonition info">
<p class="admonition-title">Visit the <a href="../../../tags/">Tags</a> page to see the result.</p>
</div>
<p>I use Jinja syntax to create the content of the Tags page, therefore, create a new file at <code>overrides\tags.html</code> and use it as the template for the Tags page:</p>
<div class="highlight"><span class="filename">docs\tags\index.md</span><pre><span></span><code><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tags</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tags and list of pages</span>
<span class="hll"><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tags.html</span>
</span><span class="nt">disqus</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="nt">hide</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">navigation</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">toc</span>
<span class="nn">---</span>
</code></pre></div>
<p>The <code>tags.html</code> template to include 2 parts:</p>
<ul>
<li><code>tag-cloud.html</code>: make a tag cloud to see how many pages are associated with a tag</li>
<li><code>tag-list-pages.html</code>: for each tag, list all pages having that tag to show similar articles together</li>
</ul>
<div class="highlight"><span class="filename">overrides\tags.html</span><pre><span></span><code><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;main.html&quot;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">site_nav</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
<span class="x">    &lt;style&gt;</span>
<span class="x">        .md-typeset .tags {</span>
<span class="x">            max-width: 35rem; </span>
<span class="x">            margin: 0 auto;</span>
<span class="x">        }</span>
<span class="x">        .md-typeset .tags details {</span>
<span class="x">            background-color: aliceblue !important;</span>
<span class="x">            padding: 0.5em 1em;</span>
<span class="x">        }</span>

<span class="x">    &lt;/style&gt;</span>
<span class="x">    &lt;div class=&quot;tags&quot;&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/tag-cloud.html&quot;</span> <span class="cp">%}</span>
<span class="x">        &lt;hr&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/tag-page-list.html&quot;</span> <span class="cp">%}</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</code></pre></div>
<p>Tags will have random colors, to easily disguise them to each other. A helper <code>random_color()</code> macro that returns a random color looks like:</p>
<div class="highlight"><span class="filename">overrides\partials\random-colors.html</span><pre><span></span><code><span class="cp">{%</span>- <span class="k">macro</span> <span class="nv">random_color</span><span class="o">()</span> -<span class="cp">%}</span>
<span class="cp">{{</span><span class="o">-</span> <span class="o">[</span><span class="s2">&quot;DarkRed&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkGoldenrod&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkGreen&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkOliveGreen&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkCyan&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkTurquoise&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkBlue&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkMagenta&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkViolet&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkSlateBlue&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkOrchid&quot;</span><span class="o">,</span>
<span class="s2">&quot;DarkSlateGray&quot;</span><span class="o">]</span> <span class="o">|</span> <span class="nf">random</span> -<span class="cp">}}</span>
<span class="cp">{%</span>- <span class="k">endmacro</span> -<span class="cp">%}</span>
</code></pre></div>
<p>Then it can be imported and used:</p>
<div class="highlight"><pre><span></span><code><span class="cp">{%</span> <span class="k">from</span> <span class="s2">&quot;partials/random-colors.html&quot;</span> <span class="k">import</span> <span class="nv">random_color</span> <span class="cp">%}</span>

<span class="x">&lt;span style=&quot;color:</span><span class="cp">{{</span> <span class="nv">random_color</span><span class="o">()</span> <span class="cp">}}</span><span class="x">;&quot;&gt;tag&lt;/span&gt;</span>
</code></pre></div>
<h3 id="tag-cloud">Tag cloud<a class="headerlink" href="#tag-cloud" title="Permanent link">#</a></h3>
<p>The tag cloud shows all tags in different size and color. The bigger a tag is, the more pages mention that tag. Steps to make a tag cloud:</p>
<ol>
<li>
<p>Scan all pages and create a list of pairs <code>(tag, pages[])</code>.</p>
</li>
<li>
<p>Count the number of pages for each tag then show each tag with different text size and color using <code>font-size</code> and <code>color</code> attributes.</p>
</li>
</ol>
<div class="highlight"><span class="filename">overrides\partials\tag-cloud.html</span><pre><span></span><code><span class="cp">{%</span> <span class="k">from</span> <span class="s2">&quot;partials/colors.html&quot;</span> <span class="k">import</span> <span class="nv">color</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">tags</span><span class="o">=[]</span> <span class="cp">%}</span>

<span class="c">{# scan all pages #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">p</span> <span class="k">in</span> <span class="nv">pages</span> <span class="cp">%}</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">p.page.meta.tags</span> <span class="cp">%}</span>
<span class="x">    </span><span class="c">{# extract tags if available #}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">p.page.meta.tags</span> <span class="cp">%}</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">tags</span><span class="o">|</span><span class="nf">length</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">ns</span> <span class="o">=</span> <span class="nv">namespace</span><span class="o">(</span><span class="nv">found</span><span class="o">=</span><span class="kp">False</span><span class="o">)</span> <span class="cp">%}</span>
<span class="x">        </span><span class="c">{# read more about scope at </span>
<span class="c">        https://jinja.palletsprojects.com/en/2.11.x/templates/#assignments</span>
<span class="c">        #}</span>
<span class="x">        </span><span class="c">{# check if tag exists, append to its page list #}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">tags</span> <span class="cp">%}</span>
<span class="x">          </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">t</span><span class="o">,</span> <span class="nv">ps</span> <span class="o">=</span> <span class="nv">item</span> <span class="cp">%}</span>
<span class="x">          </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">tag</span> <span class="o">==</span> <span class="nv">t</span> <span class="cp">%}</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">ns.found</span> <span class="o">=</span> <span class="kp">True</span> <span class="cp">%}</span>
<span class="x">            </span><span class="c">{# use &quot;&quot; to not add spaces in content #}</span>
<span class="x">            </span><span class="cp">{{</span> <span class="nv">ps.append</span><span class="o">(</span><span class="nv">p.page</span><span class="o">)</span> <span class="k">or</span> <span class="s2">&quot;&quot;</span> <span class="cp">}}</span>
<span class="x">          </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">        </span><span class="c">{# if tag doesn&#39;t exist, create new page list#}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nv">ns.found</span> <span class="cp">%}</span>
<span class="x">          </span><span class="cp">{{</span> <span class="nv">tags.append</span><span class="o">((</span><span class="nv">tag</span><span class="o">,</span> <span class="o">[</span><span class="nv">p.page</span><span class="o">]))</span> <span class="k">or</span> <span class="s2">&quot;&quot;</span> <span class="cp">}}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">tags.append</span><span class="o">((</span><span class="nv">tag</span><span class="o">,</span> <span class="o">[</span><span class="nv">p.page</span><span class="o">]))</span> <span class="k">or</span> <span class="s2">&quot;&quot;</span> <span class="cp">}}</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

<span class="x">&lt;style&gt;</span>
<span class="x">    .tag-cloud {</span>
<span class="x">        margin-top:0;</span>
<span class="x">        margin-bottom: 0.5em;</span>
<span class="x">    }</span>
<span class="x">    .tag-cloud-content {</span>
<span class="x">        padding: 0 0.6rem;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.url</span> <span class="o">==</span> <span class="s1">&#39;tags/&#39;</span> <span class="cp">%}</span>
<span class="x">        text-align: center;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">    }</span>
<span class="x">&lt;/style&gt;</span>

<span class="x">&lt;p class=&quot;md-nav tag-cloud&quot;&gt;</span>
<span class="x">  &lt;label class=&quot;md-nav__title&quot;&gt;Tag cloud&lt;/label&gt;</span>
<span class="x">&lt;/p&gt;</span>
<span class="x">&lt;div class=&quot;tag-cloud-content&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">tags</span><span class="o">|</span><span class="nf">count</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">tags</span> <span class="cp">%}</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">tag</span><span class="o">,</span> <span class="nv">ps</span> <span class="o">=</span> <span class="nv">item</span> <span class="cp">%}</span>
<span class="x">            </span><span class="c">{# create a link with tag name #}</span>
<span class="x">            </span><span class="c">{# font size is based on the page count #}</span>
<span class="x">            &lt;a class=&quot;tag&quot; href=&quot;</span><span class="cp">{{</span> <span class="nv">config.site_url</span> <span class="cp">}}</span><span class="x">tags/#</span><span class="cp">{{</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span>
<span class="x">                &lt;span class=&quot;tag-name&quot; style=&quot;</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">sz</span> <span class="o">=</span> <span class="nv">ps</span><span class="o">|</span><span class="nf">count</span> <span class="cp">%}</span>
<span class="x">                        </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">sz</span> <span class="o">&gt;</span> <span class="m">10</span> <span class="cp">%}</span>
<span class="x">                            </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">sz</span> <span class="o">=</span> <span class="m">10</span> <span class="cp">%}</span>
<span class="x">                        </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.url</span> <span class="o">==</span> <span class="s1">&#39;tags/&#39;</span> <span class="cp">%}</span>
<span class="x">                        font-size:</span><span class="cp">{{</span> <span class="m">1</span><span class="o">+</span><span class="nv">sz</span><span class="o">*</span><span class="m">0.05</span><span class="cp">}}</span><span class="x">rem;</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
<span class="x">                        font-size:</span><span class="cp">{{</span> <span class="m">0.5</span><span class="o">+</span><span class="nv">sz</span><span class="o">*</span><span class="m">0.05</span><span class="cp">}}</span><span class="x">rem;</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">                    color:</span><span class="cp">{{</span> <span class="nv">color</span><span class="o">(</span> <span class="nb">loop</span><span class="nv">.index</span><span class="o">%</span><span class="m">12</span><span class="o">)</span> <span class="cp">}}</span><span class="x">;</span>
<span class="x">                &quot;&gt;</span>
<span class="x">                    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">tag</span> -<span class="cp">}}</span><span class="x"> &amp;nbsp;</span>
<span class="x">                &lt;/span&gt;</span>
<span class="x">                &lt;!--&lt;sup class=&quot;tag-count&quot;&gt;</span><span class="cp">{{</span><span class="o">-</span> <span class="nv">ps</span><span class="o">|</span><span class="nf">count</span> -<span class="cp">}}</span><span class="x">&lt;/sup&gt;--&gt;</span>
<span class="x">            &lt;/a&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
<span class="x">        &lt;p&gt;</span>
<span class="x">            No tag found!</span>
<span class="x">        &lt;/p&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">&lt;/div&gt;</span>
</code></pre></div>
<h3 id="page-list">Page list<a class="headerlink" href="#page-list" title="Permanent link">#</a></h3>
<p>This section is simple as it just needs to loop through the list of pairs <code>(tag, pages[])</code> and create a link to each page. Steps to take that:</p>
<ol>
<li>
<p>Scan all pages and create a list of pairs <code>(tag, pages[])</code>.</p>
</li>
<li>
<p>Show each tag with the list of pages in a collapsible <code>&lt;details&gt;</code> block.</p>
</li>
<li>
<p>Only one tag block is open at a time to easily follow the selected tag. To do this, I added a callback of the <code>toggle</code> event on all tag blocks. Whenever a block is opened, this script will close all others.</p>
</li>
<li>
<p>A tag block can be opened via URL with hash being the selected tag.</p>
</li>
</ol>
<div class="highlight"><span class="filename">overrides\partials\tag-page-list.html</span><pre><span></span><code><span class="cp">{%</span> <span class="k">set</span> <span class="nv">tags</span><span class="o">=[]</span> <span class="cp">%}</span>

<span class="c">{# scan all pages #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">p</span> <span class="k">in</span> <span class="nv">pages</span> <span class="cp">%}</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">pg</span> <span class="o">=</span> <span class="nv">p.page</span> <span class="cp">%}</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">hidden</span> <span class="o">=</span> <span class="kp">true</span> <span class="k">if</span> <span class="o">(</span><span class="nv">pg.meta</span> <span class="k">and</span> <span class="nv">pg.meta.hide</span> <span class="k">and</span> <span class="o">(</span><span class="s1">&#39;in_recent_list&#39;</span> <span class="k">in</span> <span class="nv">pg.meta.hide</span><span class="o">))</span> <span class="cp">%}</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">pg.meta.tags</span> <span class="k">and</span> <span class="k">not</span> <span class="nv">hidden</span> <span class="cp">%}</span>
<span class="x">    </span><span class="c">{# extract tags if available #}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">pg.meta.tags</span> <span class="cp">%}</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">tags</span><span class="o">|</span><span class="nf">length</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">ns</span> <span class="o">=</span> <span class="nv">namespace</span><span class="o">(</span><span class="nv">found</span><span class="o">=</span><span class="kp">False</span><span class="o">)</span> <span class="cp">%}</span><span class="x"> </span>
<span class="x">        </span><span class="c">{# read more about scope at</span>
<span class="c">        https://jinja.palletsprojects.com/en/2.11.x/templates/#assignments </span>
<span class="c">        #}</span>
<span class="x">        </span><span class="c">{# check if tag exists, append to its page list #}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">tags</span> <span class="cp">%}</span>
<span class="x">          </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">t</span><span class="o">,</span> <span class="nv">ps</span> <span class="o">=</span> <span class="nv">item</span> <span class="cp">%}</span>
<span class="x">          </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">tag</span> <span class="o">==</span> <span class="nv">t</span> <span class="cp">%}</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">ns.found</span> <span class="o">=</span> <span class="kp">True</span> <span class="cp">%}</span>
<span class="x">            </span><span class="c">{# use &quot;&quot; to not add spaces in content #}</span>
<span class="x">            </span><span class="cp">{{</span> <span class="nv">ps.append</span><span class="o">(</span><span class="nv">pg</span><span class="o">)</span> <span class="k">or</span> <span class="s2">&quot;&quot;</span> <span class="cp">}}</span>
<span class="x">          </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">        </span><span class="c">{# if tag doesn&#39;t exist, create new page list#}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nv">ns.found</span> <span class="cp">%}</span>
<span class="x">          </span><span class="cp">{{</span> <span class="nv">tags.append</span><span class="o">((</span><span class="nv">tag</span><span class="o">,</span> <span class="o">[</span><span class="nv">pg</span><span class="o">]))</span> <span class="k">or</span> <span class="s2">&quot;&quot;</span> <span class="cp">}}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">tags.append</span><span class="o">((</span><span class="nv">tag</span><span class="o">,</span> <span class="o">[</span><span class="nv">pg</span><span class="o">]))</span> <span class="k">or</span> <span class="s2">&quot;&quot;</span> <span class="cp">}}</span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

<span class="x">&lt;style&gt;</span>
<span class="x">    .md-typeset .tag summary::before {</span>
<span class="x">        height: 1rem;</span>
<span class="x">        width: 1rem;</span>
<span class="x">        margin-top: 0.25em;</span>
<span class="x">    }</span>
<span class="x">&lt;/style&gt;</span>
<span class="x">&lt;div class=&quot;tag-page-list&quot;&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">tags</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">tag</span><span class="o">,</span> <span class="nv">ps</span> <span class="o">=</span> <span class="nv">item</span> <span class="cp">%}</span>
<span class="x">    &lt;details class=&quot;tag&quot; id=</span><span class="cp">{{</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="x">&gt;</span>
<span class="x">      &lt;summary&gt;</span>
<span class="x">        </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="x"> (</span><span class="cp">{{</span><span class="o">-</span> <span class="nv">ps</span><span class="o">|</span><span class="nf">count</span> -<span class="cp">}}</span><span class="x">)</span>
<span class="x">        &lt;a class=&quot;headerlink&quot; href=&quot;#</span><span class="cp">{{</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="x">&quot;&gt;⚓︎&lt;/a&gt;</span>
<span class="x">      &lt;/summary&gt;</span>
<span class="x">      &lt;ol&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">p</span> <span class="k">in</span> <span class="nv">ps</span> <span class="cp">%}</span>
<span class="x">        &lt;li&gt;</span>
<span class="x">          &lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">p.canonical_url</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span>
<span class="x">            </span><span class="cp">{%</span>- <span class="k">if</span> <span class="nv">p.meta</span> <span class="k">and</span> <span class="nv">p.meta.title</span> -<span class="cp">%}</span>
<span class="x">              </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">p.meta.title</span> -<span class="cp">}}</span>
<span class="x">            </span><span class="cp">{%</span>- <span class="k">else</span> -<span class="cp">%}</span>
<span class="x">              </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">p.title</span> -<span class="cp">}}</span>
<span class="x">            </span><span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span>
<span class="x">          &lt;/a&gt;</span>
<span class="x">        &lt;/li&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">      &lt;/ol&gt;</span>
<span class="x">    &lt;/details&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">&lt;/div&gt;</span>

<span class="x">&lt;!-- expand page list for only selected tag --&gt;</span>
<span class="x">&lt;script&gt;</span>
<span class="x">  [...document.getElementsByTagName(&quot;details&quot;)].forEach((D, _, A) =&gt; {</span>
<span class="x">    D.open = false</span>
<span class="x">    D.addEventListener(&quot;toggle&quot;, E =&gt;</span>
<span class="x">      D.open &amp;&amp; A.forEach(d =&gt;</span>
<span class="x">        d != E.target &amp;&amp; (d.open = false)</span>
<span class="x">      )</span>
<span class="x">    )</span>
<span class="x">  }</span>
<span class="x">  )</span>

<span class="x">  var hash = window.location.hash.substr(1);</span>
<span class="x">  if (hash) {</span>
<span class="x">    document.getElementById(hash).open = true;</span>
<span class="x">  }</span>
<span class="x">&lt;/script&gt;</span>
</code></pre></div>
<h2 id="main-template">Main template<a class="headerlink" href="#main-template" title="Permanent link">#</a></h2>
<p>The <code>main.html</code> file, extending the <code>base.html</code> template, will be used for all markdown pages, and it is the starting point to add custom template.</p>
<p>To override it, add the <code>main.html</code> file in the <code>overrides</code> folder. Here are things I&rsquo;m going to do to add more content into a blog post:</p>
<ol>
<li>
<p>Extract metadata to get <code>title</code>, <code>description</code>, <code>tags</code>, and other information.</p>
</li>
<li>
<p>Add block to use the <a href="https://ogp.me/">Open Graph protocol</a> to show the page&rsquo;s information when a user shares a page on a social network.</p>
</li>
<li>
<p>Include modified <strong>Navigation</strong> section to show <strong>Tag cloud</strong> in either left or right panel.</p>
</li>
<li>
<p>Include modified <strong>Page Content</strong> which renders the content with additional sections (cover, table of content, main content, comments.).</p>
</li>
</ol>
<div class="highlight"><span class="filename">overrides\main.html</span><pre><span></span><code><span class="c">{# page info #}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_title</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">page</span> <span class="k">and</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.title</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_title</span> <span class="o">=</span> <span class="nv">page.meta.title</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="nv">page</span> <span class="k">and</span> <span class="nv">page.title</span> <span class="k">and</span> <span class="k">not</span> <span class="nv">page.is_homepage</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_title</span> <span class="o">=</span> <span class="nv">page.title</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.markdown</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="k">and</span> <span class="nv">page.parent.children</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page</span> <span class="k">and</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.title</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_title</span> <span class="o">=</span> <span class="nv">page.meta.title</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_title</span> <span class="o">=</span> <span class="nv">page.parent.title</span>  <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_description</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">page</span> <span class="k">and</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.description</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_description</span> <span class="o">=</span> <span class="nv">page.meta.description</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="nv">page</span> <span class="k">and</span> <span class="nv">page.description</span> <span class="k">and</span> <span class="k">not</span> <span class="nv">page.is_homepage</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_description</span> <span class="o">=</span> <span class="nv">page.description</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_url</span> <span class="o">=</span> <span class="nv">page.canonical_url</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_image</span> <span class="o">=</span> <span class="nv">config.site_url</span> <span class="o">~</span> <span class="s2">&quot;assets/banner.jpg&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">page</span> <span class="k">and</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.banner</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_image</span> <span class="o">=</span> <span class="nv">page.canonical_url</span> <span class="o">~</span> <span class="nv">page.meta.banner</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="nv">page</span> <span class="k">and</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.tags</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">page_tags</span> <span class="o">=</span> <span class="nv">page.meta.tags</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="c">{# template #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span>

<span class="c">{# title #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">htmltitle</span> <span class="cp">%}</span>
<span class="x">    &lt;title&gt;</span><span class="cp">{{</span> <span class="nv">page_title</span> <span class="cp">}}</span><span class="x"> - </span><span class="cp">{{</span> <span class="nv">config.site_name</span> <span class="cp">}}</span><span class="x">&lt;/title&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="c">{# sharing #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">extrahead</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/ads.html&quot;</span> <span class="cp">%}</span>
<span class="x">    &lt;!-- Open Graph --&gt;</span>
<span class="x">    &lt;meta property=&quot;og:type&quot; content=&quot;website&quot; /&gt;</span>
<span class="x">    &lt;meta property=&quot;og:title&quot; content=&quot;</span><span class="cp">{{</span> <span class="nv">page_title</span> <span class="cp">}}</span><span class="x"> - </span><span class="cp">{{</span> <span class="nv">config.site_name</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;meta property=&quot;og:description&quot; content=&quot;</span><span class="cp">{{</span> <span class="nv">page_description</span> <span class="cp">}}</span><span class="x"> - </span><span class="cp">{{</span> <span class="nv">config.site_description</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;meta property=&quot;og:url&quot; content=&quot;</span><span class="cp">{{</span> <span class="nv">page_url</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;meta property=&quot;og:image&quot; content=&quot;</span><span class="cp">{{</span> <span class="nv">page_image</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;meta property=&quot;og:image:type&quot; content=&quot;image/png&quot; /&gt;</span>
<span class="x">    &lt;meta property=&quot;og:image:width&quot; content=&quot;1200&quot; /&gt;</span>
<span class="x">    &lt;meta property=&quot;og:image:height&quot; content=&quot;630&quot; /&gt;</span>

<span class="x">    &lt;!-- Twitter Cards --&gt;</span>
<span class="x">    &lt;meta name=&quot;twitter:card&quot; content=&quot;summary_large_image&quot; /&gt;</span>
<span class="x">    &lt;meta name=&quot;twitter:title&quot; content=&quot;</span><span class="cp">{{</span> <span class="nv">page_title</span> <span class="cp">}}</span><span class="x"> - </span><span class="cp">{{</span> <span class="nv">config.site_name</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;meta name=&quot;twitter:description&quot; content=&quot;</span><span class="cp">{{</span> <span class="nv">page_description</span> <span class="cp">}}</span><span class="x"> - </span><span class="cp">{{</span> <span class="nv">config.site_description</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;meta name=&quot;twitter:image&quot; content=&quot;</span><span class="cp">{{</span> <span class="nv">page_image</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="c">{# navigation #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">site_nav</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/navigation.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="c">{# content #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/post-content.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</code></pre></div>
<h4 id="navigation">Navigation<a class="headerlink" href="#navigation" title="Permanent link">#</a></h4>
<p>The sidebar will display the <strong>tag cloud</strong> based in the page&rsquo;s table of content.</p>
<div class="highlight"><span class="filename">overrides\partials\navigation.html</span><pre><span></span><code><span class="cp">{%</span> <span class="k">if</span> <span class="nv">nav</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.hide</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">hidden</span> <span class="o">=</span> <span class="s2">&quot;hidden&quot;</span> <span class="k">if</span> <span class="s2">&quot;navigation&quot;</span> <span class="k">in</span> <span class="nv">page.meta.hide</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="x">    &lt;div class=&quot;md-sidebar md-sidebar--primary&quot; data-md-component=&quot;sidebar&quot; data-md-type=&quot;navigation&quot; </span><span class="cp">{{</span> <span class="nv">hidden</span> <span class="cp">}}</span><span class="x">&gt;</span>
<span class="x">        &lt;div class=&quot;md-sidebar__scrollwrap&quot;&gt;</span>
<span class="x">            &lt;div class=&quot;md-sidebar__inner&quot;&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/nav.html&quot;</span> <span class="cp">%}</span>

<span class="x">                </span><span class="c">{# show tags on the left side if the right side has toc #}</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.toc</span> <span class="cp">%}</span>
<span class="x">                    &lt;br&gt;</span>
<span class="x">                    &lt;br&gt;</span>
<span class="x">                    &lt;div class=&quot;tag-cloud-nav&quot;&gt;</span>
<span class="x">                        </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/tag-cloud.html&quot;</span> <span class="cp">%}</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">            &lt;/div&gt;</span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="s2">&quot;toc.integrate&quot;</span> <span class="k">in</span> <span class="nv">features</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.hide</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">hidden</span> <span class="o">=</span> <span class="s2">&quot;hidden&quot;</span> <span class="k">if</span> <span class="s2">&quot;toc&quot;</span> <span class="k">in</span> <span class="nv">page.meta.hide</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="x">    &lt;div class=&quot;md-sidebar md-sidebar--secondary&quot; data-md-component=&quot;sidebar&quot; data-md-type=&quot;toc&quot; </span><span class="cp">{{</span> <span class="nv">hidden</span> <span class="cp">}}</span><span class="x">&gt;</span>
<span class="x">        &lt;div class=&quot;md-sidebar__scrollwrap&quot;&gt;</span>
<span class="x">            &lt;div class=&quot;md-sidebar__inner&quot;&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nv">page.is_homepage</span> <span class="cp">%}</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/toc.html&quot;</span> <span class="cp">%}</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="x">                </span><span class="c">{# show tags on the right side if there is no toc there #}</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.is_homepage</span> <span class="k">or</span> <span class="k">not</span> <span class="nv">page.toc</span> <span class="cp">%}</span>
<span class="x">                    &lt;div class=&quot;tag-cloud-toc&quot;&gt;</span>
<span class="x">                        </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/tag-cloud.html&quot;</span> <span class="cp">%}</span>
<span class="x">                    &lt;/div&gt;</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">            &lt;/div&gt;</span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</code></pre></div>
<h4 id="page-content">Page content<a class="headerlink" href="#page-content" title="Permanent link">#</a></h4>
<p>The page content will be placed in the main block. If there is no content, a list of children posts will be shown.</p>
<div class="highlight"><span class="filename">overrides\partials\post-content.html</span><pre><span></span><code><span class="c">{# edit button #}</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.edit_url</span> <span class="cp">%}</span>
<span class="x">    &lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">page.edit_url</span> <span class="cp">}}</span><span class="x">&quot; title=&quot;</span><span class="cp">{{</span> <span class="nv">lang.t</span><span class="o">(</span><span class="s1">&#39;edit.link.title&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; class=&quot;md-content__button md-icon&quot;&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;.icons/material/pencil.svg&quot;</span> <span class="cp">%}</span>
<span class="x">    &lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/post-cover.html&quot;</span> <span class="cp">%}</span>

<span class="x">&lt;hr class=&quot;screen-only&quot;&gt;</span>

<span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/post-toc.html&quot;</span> <span class="cp">%}</span>

<span class="c">{# show the children pages if no content #}</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.markdown</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="k">and</span> <span class="nv">page.parent.children</span> <span class="cp">%}</span>
<span class="x">    &lt;h2&gt;Posts in this section:&lt;/h2&gt;</span>
<span class="x">    &lt;ol&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">obj</span> <span class="k">in</span> <span class="nv">page.parent.children</span> <span class="cp">%}</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">obj.is_section</span> <span class="cp">%}</span>
<span class="x">                </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">p</span> <span class="o">=</span> <span class="nv">obj.children</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="cp">%}</span>
<span class="x">                &lt;li&gt;</span>
<span class="x">                    &lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">p.canonical_url</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span>
<span class="x">                        </span><span class="cp">{%</span>- <span class="k">if</span> <span class="nv">p.meta</span> <span class="k">and</span> <span class="nv">p.meta.title</span> -<span class="cp">%}</span>
<span class="x">                            </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">p.meta.title</span> -<span class="cp">}}</span>
<span class="x">                        </span><span class="cp">{%</span>- <span class="k">else</span> -<span class="cp">%}</span>
<span class="x">                            </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">p.title</span> -<span class="cp">}}</span>
<span class="x">                        </span><span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span>
<span class="x">                    &lt;/a&gt;</span>
<span class="x">                &lt;/li&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">    &lt;/ol&gt;</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
<span class="x">    </span><span class="c">{# content #}</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">page.content</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.markdown</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="k">and</span> <span class="nv">page.parent.children</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
<span class="x">    </span><span class="c">{# comment #}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/disqus.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</code></pre></div>
<p>When printing to a PDF file, the first page should show the post title and its short description. This page is called the cover page which will be created only in printing mode.</p>
<p>Create an element with class <code>cover</code> in the <code>post-cover.html</code> template to wrap the cover section. In print mode, this element should cover the full height (100%) of the first paper and align its content vertically. After the line of tags, the updated date will be shown to easily check the latest version of the document:</p>
<div class="highlight"><span class="filename">overrides\partials\post-cover.html</span><pre><span></span><code><span class="c">{# the cover page #}</span>
<span class="x">&lt;style&gt;</span>
<span class="x">    .md-typeset .cover {</span>
<span class="x">        margin-bottom: 1em;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .page-category {</span>
<span class="x">        color: gray;</span>
<span class="x">        font-size: large;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .page-title {</span>
<span class="x">        margin-left: -0.0625em;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .page-extra {</span>
<span class="x">        color: gray;</span>
<span class="x">        font-size: small;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .page-tags {</span>
<span class="x">        margin: 0;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .page-date {</span>
<span class="x">        margin: 0;</span>
<span class="x">        text-align: end;</span>
<span class="x">    }</span>
<span class="x">    @media print {</span>
<span class="x">        .md-typeset .cover {</span>
<span class="x">            height: 100vh;</span>
<span class="x">            display: flex;</span>
<span class="x">            flex-direction: column;</span>
<span class="x">            justify-content: center;</span>
<span class="x">        }</span>
<span class="x">        .md-typeset .cover + * {</span>
<span class="x">            margin-top: 0;</span>
<span class="x">        }</span>
<span class="x">    }</span>
<span class="x">&lt;/style&gt;</span>

<span class="x">&lt;div class=&quot;cover&quot;&gt;</span>
<span class="x">    </span><span class="c">{# category #}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.category</span> <span class="cp">%}</span>
<span class="x">    &lt;span class=&quot;page-category&quot;&gt;</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">page.meta.category</span> <span class="cp">}}</span><span class="x"> »</span>
<span class="x">    &lt;/span&gt;</span>
<span class="x">    &lt;br&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="x">    </span><span class="c">{# title #}</span>
<span class="x">    &lt;h1 class=&quot;page-title&quot;&gt; </span><span class="cp">{{</span> <span class="nv">page_title</span> <span class="o">|</span> <span class="nf">d</span><span class="o">(</span><span class="nv">config.site_name</span><span class="o">,</span> <span class="kp">true</span><span class="o">)</span> <span class="cp">}}</span><span class="x"> &lt;/h1&gt;</span>

<span class="x">    </span><span class="c">{# description #}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.description</span> <span class="cp">%}</span>
<span class="x">        &lt;p class=&quot;page-description&quot;&gt;</span>
<span class="x">            </span><span class="cp">{{</span> <span class="nv">page.meta.description</span> <span class="cp">}}</span>
<span class="x">        &lt;/p&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.markdown</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="k">and</span> <span class="nv">page.parent.children</span> <span class="cp">%}</span>

<span class="x">    </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
<span class="x">        &lt;div class=&quot;page-extra row&quot;&gt;</span>
<span class="x">            &lt;div class=&quot;col&quot;&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.meta</span> <span class="k">and</span> <span class="nv">page.meta.tags</span> <span class="cp">%}</span>
<span class="x">                &lt;p class=&quot;page-tags&quot;&gt;</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">page.meta.tags</span> <span class="cp">%}</span>
<span class="x">                        &lt;a class=&quot;tag&quot; href=&quot;</span><span class="cp">{{</span> <span class="nv">config.site_url</span> <span class="cp">}}</span><span class="x">tags/#</span><span class="cp">{{</span><span class="nv">tag</span><span class="cp">}}</span><span class="x">&quot;&gt;</span>
<span class="x">                            &lt;span class=&quot;tag-name&quot;&gt;</span>
<span class="x">                                #</span><span class="cp">{{</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="x"> &amp;nbsp;</span>
<span class="x">                            &lt;/span&gt;</span>
<span class="x">                        &lt;/a&gt;</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">                &lt;/p&gt;</span>
<span class="x">            </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="x">            &lt;/div&gt;</span>
<span class="x">            &lt;div class=&quot;col&quot;&gt;</span>
<span class="x">                &lt;p class=&quot;page-date&quot;&gt;</span>
<span class="x">                    &lt;span&gt;</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">page.meta.git_revision_date_localized_raw_iso_date</span> <span class="cp">%}</span>
<span class="x">                        </span><span class="cp">{{</span> <span class="nv">lang.t</span><span class="o">(</span><span class="s2">&quot;source.file.date.updated&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">:</span>
<span class="x">                        </span><span class="cp">{{</span> <span class="nv">page.meta.git_revision_date_localized_raw_iso_date</span> <span class="cp">}}</span>
<span class="x">                    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">                    &lt;/span&gt;</span>
<span class="x">                &lt;/p&gt;</span>
<span class="x">            &lt;/div&gt;</span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">&lt;/div&gt;</span>
</code></pre></div>
<p>When displaying on a screen, the Table of Content is displayed in the right sidebar. In printed pages, there should be a page to display the table of content too. This page is also only visible in printing.</p>
<p>The base Material for MkDocs theme has a partial block for Table of Content section, so I just need to declare it in <code>post-toc.html</code> and include it in the <code>main.html</code> template, between the cover page and the main content.</p>
<div class="highlight"><span class="filename">overrides\partials\post-toc.html</span><pre><span></span><code><span class="c">{# the table of content page #}</span>
<span class="x">&lt;style&gt;</span>
<span class="x">    .md-typeset .toc {</span>
<span class="x">        display: none;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .toc label {</span>
<span class="x">        display: none;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .toc .md-nav {</span>
<span class="x">        font-size: unset;</span>
<span class="x">        line-height: 1.6;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .toc .md-nav--secondary {</span>
<span class="x">        margin-left: -2em;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .toc .md-nav__list {</span>
<span class="x">        margin: 0;</span>
<span class="x">    }</span>
<span class="x">    .md-typeset .toc ul {</span>
<span class="x">        list-style: none;</span>
<span class="x">    }</span>
<span class="x">    @media print {</span>
<span class="x">        .md-typeset .toc {</span>
<span class="x">            display: block;</span>
<span class="x">            page-break-after: always;</span>
<span class="x">        }</span>
<span class="x">        .md-typeset .toc .md-nav__link {</span>
<span class="x">            color: var(--md-typeset-a-color);</span>
<span class="x">        }</span>
<span class="x">        .md-typeset .toc .md-nav__link.md-nav__link--active {</span>
<span class="x">            font-weight: unset;</span>
<span class="x">        }</span>
<span class="x">        .md-typeset .toc + * {</span>
<span class="x">            margin-top: 0;</span>
<span class="x">        }</span>
<span class="x">    }</span>
<span class="x">&lt;/style&gt;</span>

<span class="x">&lt;div class=&quot;toc&quot;&gt;</span>
<span class="x">    &lt;h2&gt;Table of Content&lt;/h2&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;partials/toc.html&quot;</span> <span class="cp">%}</span>
<span class="x">&lt;/div&gt;</span>
</code></pre></div>
<div class="admonition hint">
<p class="admonition-title">Jinja object</p>
<p>It is easy to display an object in Jinja template as Jinja is based on Python.</p>
<p>To show all attributes:</p>
<div class="highlight"><pre><span></span><code><span class="cp">{{</span> <span class="nv">page.__dict__</span><span class="cp">}}</span>
</code></pre></div>
<p>To show a specific attribute:</p>
<div class="highlight"><pre><span></span><code><span class="cp">{{</span> <span class="nv">page.parent.children</span> <span class="cp">}}</span>
</code></pre></div>
</div>
<h2 id="the-recent-blog-posts">The recent blog posts<a class="headerlink" href="#the-recent-blog-posts" title="Permanent link">#</a></h2>
<p>There should be a page showing the recent posts to help users see what is new and updated. With the <a href="../mkdocs-plugins/#revision-date">Revision Date</a> plugin, it is able to use two new meta-data fields: <code>git_revision_date_localized</code>, and <code>git_creation_date_localized</code> if the option <code>enable_creation_date</code> is <code>true</code>.</p>
<p>Create new <code>index.md</code> file inside the <code>blog</code> folder. When using the <a href="../mkdocs-plugins/#section-index">Section Index</a> plugin, this index file will be merged to the Blog section, therefore, when user selects the Blog label, there is a list of recent posts will be shown.</p>
<div class="highlight"><span class="filename">docs\blog\index.md</span><pre><span></span><code><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Recent posts</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The lastest activities show in the list of recently updated post. Please read the post title and description and choose any post which seems interesting to you. I hope you always can find something new here.</span>
<span class="hll"><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">blog.html</span>
</span><span class="nt">disqus</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="nn">---</span>
</code></pre></div>
<p>This page will use the <code>blog.html</code> template in which it scans all posts and check the creation date to make a list of posts. Each post should be displayed in a container and be formatted to show the title, the description (at most 250 character using the <code>truncate</code> filter), the creation date, and its tags.</p>
<p>Here is the code to sort all pages in order of creation date, and then filter all blog posts to save into the array <code>blog_pages</code> which will be used to generate content.</p>
<div class="highlight"><pre><span></span><code><span class="cp">{%</span> <span class="k">set</span> <span class="nv">blog_pages</span><span class="o">=[]</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">p</span> <span class="k">in</span> <span class="nv">pages</span><span class="o">|</span><span class="nf">sort</span><span class="o">(</span>     
    <span class="nv">attribute</span><span class="o">=</span><span class="s1">&#39;page.meta.git_revision_date_localized&#39;</span><span class="o">,</span>
    <span class="nv">reverse</span><span class="o">=</span><span class="kp">True</span>
    <span class="o">)</span> 
<span class="cp">%}</span>

<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">pg</span> <span class="o">=</span> <span class="nv">p.page</span> <span class="cp">%}</span>

<span class="x">    </span><span class="c">{# do not list homepage, empty pages, hidden pages #}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">hidden</span> <span class="o">=</span> <span class="kp">true</span> <span class="k">if</span> <span class="o">(</span><span class="nv">pg.meta</span> <span class="k">and</span> <span class="nv">pg.meta.hide</span> <span class="k">and</span> <span class="o">(</span><span class="s1">&#39;in_recent_list&#39;</span> <span class="k">in</span> <span class="nv">pg.meta.hide</span><span class="o">))</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="o">(</span><span class="k">not</span> <span class="nv">pg.is_homepage</span><span class="o">)</span> <span class="k">and</span> 
            <span class="o">(</span><span class="k">not</span> <span class="nv">pg.markdown</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="o">)</span> <span class="k">and</span> 
                <span class="o">(</span><span class="k">not</span> <span class="nv">hidden</span><span class="o">)</span>
    <span class="cp">%}</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">blog_pages.append</span><span class="o">(</span><span class="nv">pg</span><span class="o">)</span> <span class="k">or</span> <span class="s2">&quot;&quot;</span> <span class="cp">}}</span><span class="x"> </span><span class="c">{# use &quot;&quot; to not add spaces in content #}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</code></pre></div>
<h3 id="groups-of-pages">Groups of pages<a class="headerlink" href="#groups-of-pages" title="Permanent link">#</a></h3>
<p>When the number of posts goes bigger, the recent post list becomes longer. It&rsquo;s time to brake the long list into pages — the user can click on the page number to see its children posts.</p>
<p>This is called &ldquo;Pagination&rdquo;. How to implement it?</p>
<p>Jinja template has the <a href="https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.slice"><code>slice</code> filter</a> to divide a list into sub-lists. Here, I&rsquo;d like to have maximum of 10 posts on each page.</p>
<div class="highlight"><pre><span></span><code>{# count the number of pages #}
{% set page_num = (blog_pages|count / 10)|round(method=&#39;ceil&#39;)|int %}

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;page_num&quot;</span> <span class="na">data-value</span><span class="o">=</span><span class="s">&quot;{{page_num}}&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;pages&quot;</span><span class="p">&gt;</span>
    {% for pg_group in blog_pages|slice(page_num) %}
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;page&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;page{{ loop.index }}&quot;</span><span class="p">&gt;</span>
        {% for pg in pg_group %}
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
                ... create post layout and content ...
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        {% endfor %}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{% endfor %}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="post-entry">Post-entry<a class="headerlink" href="#post-entry" title="Permanent link">#</a></h3>
<p>Each post is wrapped inside a <code class="highlight"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span></code> and its elements are marked with different classes, such as <code>post-title</code>, <code>post-description</code>, etc. for applying styles later.</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h4</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post-title&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ pg.canonical_url }}&quot;</span><span class="p">&gt;</span>{{ pg.title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post-info&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post-description&quot;</span><span class="p">&gt;</span>
                {% if pg.meta and pg.meta.description %}
                {{ pg.meta.description | truncate(200) }}
                {% endif %}
            <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post-extra row&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col&quot;</span><span class="p">&gt;</span>
                    {% if pg.meta and pg.meta.git_revision_date_localized %}
                    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post-date&quot;</span><span class="p">&gt;</span>
                        <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
                            {{ pg.meta.git_revision_date_localized }}
                        <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                    {% endif %}
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col&quot;</span><span class="p">&gt;</span>
                    {% if pg.meta and pg.meta.tags %}
                    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post-tags&quot;</span><span class="p">&gt;</span>
                        {% for tag in pg.meta.tags %}
                        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;tag&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ config.site_url }}tags/#{{tag}}&quot;</span><span class="p">&gt;</span>
                            <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;tag-name&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;color:{{ random_color() }};&quot;</span><span class="p">&gt;</span>
                                #{{ tag }}
                            <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                        <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
                        {% endfor %}
                    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                    {% endif %}
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        {% if pg_image %}
        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post-banner &quot;</span><span class="na">src</span><span class="o">=</span><span class="s">&#39;{{ pg_image }}&#39;</span><span class="p">/&gt;</span>
        {% endif %}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>Here is a simple style to make each post display necessary basic information:</p>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">post</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">margin-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">post</span><span class="w"> </span><span class="p">.</span><span class="nc">post-title</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span><span class="kt">rem</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">text-decoration</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3</span><span class="kt">em</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">post</span><span class="w"> </span><span class="p">.</span><span class="nc">post-info</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">post</span><span class="w"> </span><span class="p">.</span><span class="nc">post-banner</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">margin-top</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="kt">rem</span><span class="p">;</span>
<span class="w">    </span><span class="k">max-height</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="kt">rem</span><span class="p">;</span>
<span class="w">    </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="kc">lightgray</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">post</span><span class="w"> </span><span class="p">.</span><span class="nc">post-description</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="kt">rem</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">post</span><span class="w"> </span><span class="p">.</span><span class="nc">post-extra</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="kt">rem</span><span class="w"> </span><span class="mi">1</span><span class="kt">rem</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">darkgray</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">post</span><span class="w"> </span><span class="p">.</span><span class="nc">post-tags</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">text-align</span><span class="p">:</span><span class="w"> </span><span class="kc">end</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">post</span><span class="w"> </span><span class="p">.</span><span class="nc">post-date</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="pagination-bar">Pagination bar<a class="headerlink" href="#pagination-bar" title="Permanent link">#</a></h3>
<p>To show the current active page, I use pure CSS and JavaScript. The idea is to use the URL hash to detect which page is activated, such as <code>#page1</code>.</p>
<div class="highlight"><pre><span></span><code>{# pagination #}
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;pages&quot;</span><span class="p">&gt;</span>
    {% for pg_group in blog_pages|slice(page_num) %}
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;page&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;page{{ loop.index }}&quot;</span><span class="p">&gt;</span>
            {% for pg in pg_group %}
                {% set pg_image = &quot;&quot; %}
                {% if pg.meta and pg.meta.banner %}
                    {% set pg_image = pg.canonical_url ~ pg.meta.banner %}
                {% endif %}
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
                    ...
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            {% endfor %}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    {% endfor %}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;center&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;pagination&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;pagination-bottom&quot;</span><span class="p">&gt;</span>
        <span class="cm">&lt;!-- &lt;a href=&quot;#&quot;&gt;&amp;laquo;&lt;/a&gt; --&gt;</span>
        {% for pg_group in blog_pages|slice(page_num) %}
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;page-number {% if loop.index==1 %}active{% endif%}&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#page{{ loop.index }}&quot;</span><span class="p">&gt;</span>{{ loop.index }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        {% endfor %}
        <span class="cm">&lt;!-- &lt;a href=&quot;#&quot;&gt;&amp;raquo;&lt;/a&gt; --&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;center&quot;</span><span class="p">&gt;</span>Total <span class="p">&lt;</span><span class="nt">b</span><span class="p">&gt;</span>{{ blog_pages|count }}<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span> posts in {{ page_num }} pages.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</code></pre></div>
<p>Then add some styles to the pagination block and its children links:</p>
<p><br />
<strong>CSS Styles</strong>:</p>
<p>Use <code>target</code> keyword to select the selected <em>page ID</em>, then show only the target element.</p>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">pages</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">.</span><span class="nc">page</span><span class="p">:</span><span class="nd">target</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="p">.</span><span class="nc">page</span><span class="p">:</span><span class="nd">last-child</span><span class="o">,</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">pages</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">.</span><span class="nc">page</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">pages</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="nd">last-child</span><span class="o">,</span>
<span class="p">.</span><span class="nc">md-typeset</span><span class="w"> </span><span class="p">.</span><span class="nc">pages</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">.</span><span class="nc">page</span><span class="p">:</span><span class="nd">target</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>JavaScript</strong></p>
<p>When the page is loaded, a script will run to get all pagination&rsquo;s links, and then add a callback function for click event, that remove <code>active</code> class from last activated element and then assign <code>active</code> class to the event&rsquo;s source element. Note that the first page is activated by default when the page is loaded. After a page is selected, function <code>scrollToTop()</code> will navigate to the top view.</p>
<div class="highlight"><span class="filename">overrides\partials\post-list.html</span><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">scrollToTop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// delay a little for css to calculate windows size</span>
<span class="w">        </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nb">window</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="mf">100</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">activatePaginationLinks</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">pagination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;pagination-&quot;</span><span class="o">+</span><span class="nx">name</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">pagination</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">links</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pagination</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s2">&quot;page-number&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">links</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">links</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">links</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">links</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;active&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">links</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s2">&quot;active&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// show page 1 as default</span>
<span class="w">    </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;#page1&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// listen to hash change</span>
<span class="w">    </span><span class="nb">window</span><span class="p">.</span><span class="nx">onhashchange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">;</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">regexp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/^#page[0-9]+$/</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">regexp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">hash</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">hash</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mf">5</span><span class="p">));</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">parseInt</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;page_num&#39;</span><span class="p">).</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="nx">num</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nx">max</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">activatePaginationLinks</span><span class="p">(</span><span class="s2">&quot;top&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="nx">activatePaginationLinks</span><span class="p">(</span><span class="s2">&quot;bottom&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="nx">scrollToTop</span><span class="p">();</span>
<span class="w">                </span><span class="k">return</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span>

<span class="w">        </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;#page1&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<h2 id="zoom-in-images">Zoom-in Images<a class="headerlink" href="#zoom-in-images" title="Permanent link">#</a></h2>
<p>As mentioned in the <a href="../markdown-syntax/#images">Images</a> section, <a href="https://github.com/newming/view-bigimg">view-bigimg</a> library helps to zoom and pan images. It&rsquo;s useful when the image is in high resolution and resized to fit site&rsquo;s width.</p>
<p>Download <code>view-bigimg.css</code> and <code>view-bigimg.js</code> files from the <a href="https://github.com/newming/view-bigimg/tree/master/src">view-bigimg</a> repo, then add them into the addition assets configs in <code>mkdocs.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">extra_css</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/view-bigimg.css</span>
<span class="nt">extra_javascript</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/view-bigimg.js</span>
</code></pre></div>
<p>When click on the image, this library will create a new layer and show the image in a bigger size. However, it must be clicked on the close button to go back to the page&rsquo;s content. I want to simplify this step by just click on the image. Panning still is activated by press and hold. Therefore, I write a function to detect <code>mousedown</code> and <code>mousemove</code> event, then only close the image if it is a simple click:</p>
<div class="highlight"><span class="filename">assets\extra.js</span><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">dragged</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;mousedown&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nx">dragged</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">));</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;mousemove&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nx">dragged</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">));</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">viewer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ViewBigimg</span><span class="p">();</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">figures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">);</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">figures</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">figures</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">nodeName</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;IMG&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">viewer</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">src</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">containers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;#iv-container .iv-image-view&quot;</span><span class="p">);</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">containers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">containers</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">dragged</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">viewer</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="open-external-links">Open external links<a class="headerlink" href="#open-external-links" title="Permanent link">#</a></h2>
<p>When following links, to remain the blog page opened, external links should be shown in new tabs without any tracking information. To do that, I write some lines of code to get all external links in the page, then set <code>target = "_blank"</code> and add attribute <code>rel = "noopener noreferrer"</code> to them.</p>
<div class="highlight"><span class="filename">assets\extra.js</span><pre><span></span><code><span class="cm">/* open external links in new tab */</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">links</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">links</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">linksLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">links</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">linksLength</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">links</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">hostname</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">links</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;_blank&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="nx">links</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;rel&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;noopener noreferrer&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">links</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">&quot; externalLink&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">links</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">&quot; localLink&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>



    
    <!-- Get setting from mkdocs.yml, but allow page-level overrides -->



<!-- Inject Disqus into current page -->

    <h2 id="__comments">Comments</h2>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = "https://vivekfe.github.io/blog/site-setup/add-new-features/"
            this.page.identifier =
                "blog/site-setup/add-new-features/"
        }

        /* Set up for the first time */
        if (typeof DISQUS === "undefined") {
            var script = document.createElement("script")
            script.async = true
            script.src = "https://go4vivek.disqus.com/embed.js"
            script.setAttribute("data-timestamp", Date.now())

            /* Inject script tag */
            document.body.appendChild(script)

        /* Set up on navigation (instant loading) */
        } else {
            DISQUS.reset({
                reload: true,
                config: disqus_config
            })
        }
    </script>



              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2021-2023 IOStories<br> <a href="https://github.com/vuquangtrong/mkdocs-material-blog">Blog Theme</a> / <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a>

    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/vivekfe" target="_blank" rel="noopener" title="vivekfe" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://facebook.com/go4vic" target="_blank" rel="noopener" title="go4vic" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m279.14 288 14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/in/vivekfe" target="_blank" rel="noopener" title="vivekfe" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  




  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.annotate", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4b2c34cd.min.js"></script>
      
        <script src="../../../assets/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../../assets/view-bigimg.js"></script>
      
        <script src="../../../assets/extra.js"></script>
      
    
  </body>
</html>